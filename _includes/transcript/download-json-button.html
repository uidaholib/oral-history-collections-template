{% comment %}
Create this file as _includes/transcript/download-json-button.html
{% endcomment %}

<div class="dropdown d-inline-block">
  <button class="btn btn-outline-primary dropdown-toggle" type="button" id="jsonDownloadButton" data-bs-toggle="dropdown" aria-expanded="false">
    <i class="fas fa-download"></i> Download Data
  </button>
  <ul class="dropdown-menu" aria-labelledby="jsonDownloadButton">
    <li><h6 class="dropdown-header">Complete Collection</h6></li>
    <li><a class="dropdown-item" href="{{ "/assets/data/transcript-collection.json" | relative_url }}" download><strong>Complete Transcript Collection (JSON)</strong></a></li>
    <li><a class="dropdown-item" href="{{ "/assets/data/transcripts/index.json" | relative_url }}" download>Transcript Index (JSON)</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header">Individual Transcripts</h6></li>
    {% for transcript in site.data.transcripts %}
    {% assign transcript-name = transcript[0] %}
    {% assign transcript_item = site.data[site.metadata] | where_exp: 'item', 'item.objectid == transcript-name' | first %}
    <li><a class="dropdown-item" href="{{ "/assets/data/transcripts/" | append: transcript-name | append: ".json" | relative_url }}" download>{{ transcript_item.title | default: transcript-name }}</a></li>
    {% endfor %}
  </ul>
</div>